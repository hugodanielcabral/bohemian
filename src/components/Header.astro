---
import Logo from "./Logo.astro";
import Navigation from "./Navigation.astro";
import Hamburger from "./Hamburger.astro";

const links = [
  { href: "/", text: "Inicio" },
  { href: "/about", text: "Productos" },
  { href: "/contact", text: "Contacto" },
];
---

<header class="header">
  <nav class="navegation">
    <Hamburger />
    <Navigation links={links} />
  </nav>
</header>

<script>
  let $heroElement = document.querySelector(".slider-container") as HTMLElement;
  let $headerElement = document.querySelector(".header") as HTMLElement;

  let observerOptions = {
    root: null,
    threshold: 0.9,
  };

  let observer = new IntersectionObserver((entries) => {
    entries.forEach((entry) => {
      if (entry.isIntersecting) {
        $headerElement?.classList.remove("header-scrolled");
      } else {
        $headerElement?.classList.add("header-scrolled");
      }
    });
  }, observerOptions);

  observer.observe($heroElement);
</script>
